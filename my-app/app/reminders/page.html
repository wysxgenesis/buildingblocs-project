<!DOCTYPE html>

<head>
    <title>Reminders</title>
</head>

<body>
    <h1>Medication name:</h1>
        <input type="text" id="med-name" placeholder="medication name...">
    
    <h1>Dosage:</h1>
        <input type="text" id="dosage" placeholder="dosage...">

    <h1>Time:</h1>
        <input id="time" placeholder="time...(HH:MM)">

    <div> 
        <button type="button" id="button" >Add Reminder</button> 
        <p id="reminder">Reminder not set</p>
    </div>

    <div> 
        <button type="button" onclick="history.go(-2)" >Return to Home</button>

    <script>
        let medName = document.getElementById('med-name');
        let button = document.getElementById('button');
        let reminder = document.getElementById('reminder');
        let timeInput = document.getElementById('time');
        button.addEventListener('click', function() {
            let click = true
            if (click = true) {
                reminder.textContent = "Reminder set!";
            } else {
                reminder.textContent = "Reminder not set";
            }
            alertFired = false;
            });
                function format12Hour(date) {
        let hours = date.getHours();
        let minutes = date.getMinutes();
        const ampm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12;
        if (hours === 0) hours = 12;
        const minutesStr = String(minutes).padStart(2, '0');
        return `${hours}:${minutesStr} ${ampm}`;
    }

    let alertFired = false;

    setInterval(() => {
        const targetTime = timeInput.value;
        if (!targetTime) return;

        
        let [targetHours, targetMinutes] = targetTime.split(':').map(Number);

        const now = new Date();

        if (!alertFired &&
            now.getHours() === targetHours &&
            now.getMinutes() === targetMinutes
        ) {
            alertFired = true;
            
            let amt = document.getElementById('dosage').value;
            alert("Take " + medName.value + " " + amt);
            
        }
    }, 1000);
           

    </script>
    
    <style>
        html, body{
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        body {
            background-image: linear-gradient(180deg, lightgreen,  bisque);
            height:100vh;
        }
        input {
            margin-bottom: 20px;
            height: 40px;
        }
        
        h1 {
            text-align: center;
            font-size: 52px;
        }
        
        
    div {
        text-align: center;
        p {
            font-size: 24px;
            font-weight: bold;
        }
        button {
            height: 35px;
            width: 100px;
        }
    }
        

    </style>
    


</body>

</html>

